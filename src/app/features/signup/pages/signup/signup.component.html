<app-navigation></app-navigation>

<section style="display: flex; height: 90%; width: 100%; justify-content: center; align-items: center;">

    <div style="width: 20%; min-width: 300px;">
        <mat-card style="display: flex; flex-direction: column;">

            <mat-card-title style="align-self: center; font-family: 'DM Sans';">Cadastrar</mat-card-title>

            <form [formGroup]="signUpForm" (ngSubmit)="onSubmit()">
                <mat-card-content style="display: flex; flex-direction: column;">
                    
                    <mat-form-field appearance="fill" style="margin-top: 20px;">
                        <mat-label style="font-family: 'DM Sans';">Nome: </mat-label>
                        <input type="email" formControlName="nameUser" matInput style="font-family: 'DM Sans';">

                        <mat-error *ngIf="signUpForm.controls.nameUser.hasError('required')">Informe seu nome</mat-error>
                        <mat-error *ngIf="signUpForm.controls.nameUser.hasError('minlength')">Nome precisa de pelo menos 3 caracteres</mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="fill" style="margin-top: 10px;">
                        <mat-label style="font-family: 'DM Sans';">Email: </mat-label>
                        <input type="email" formControlName="emailUser" matInput style="font-family: 'DM Sans';">

                        <mat-error *ngIf="signUpForm.controls.emailUser.hasError('required')">Informe o email</mat-error>
                        <mat-error *ngIf="signUpForm.controls.emailUser.hasError('minlength')">Email precisa de pelo menos 5 caracteres</mat-error>
                        <mat-error *ngIf="!signUpForm.controls.emailUser.hasError('minlength') && signUpForm.controls.emailUser.hasError('email')">Email inválido</mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="fill" style="margin-top: 10px;">
                        <mat-label style="font-family: 'DM Sans';">Password: </mat-label>
                        <input type="password" formControlName="passwordUser" matInput style="font-family: 'DM Sans';">

                        <mat-error *ngIf="signUpForm.controls.passwordUser.hasError('required')"> Informe a senha </mat-error> 
                        <mat-error *ngIf="signUpForm.controls.passwordUser.hasError('minlength')"> Senha precisa de pelo menos 6 caracteres </mat-error>
                    </mat-form-field>

                    <ng-container style="display: flex;" *ngIf="emailInUse"><h4 style="align-self: center; color: #dd2929; font-family: 'DM Sans'; margin-bottom: 0px; margin-top: 0px;">Email já cadastrado</h4></ng-container>
                    
                    <button *ngIf="signUpForm.valid" mat-button type="submit" style="background-color: #1e22aa; color: #fff; font-size: 20px; font-family: 'DM Sans'; font-weight: 500; height: 50px; margin-top: 10px;">Cadastrar</button>
                    <button *ngIf="!signUpForm.valid" disabled="true" mat-button type="submit" style="background-color: #1e23aabb; color: #fff; font-size: 20px; font-family: 'DM Sans'; font-weight: 500; height: 50px; margin-top: 10px;">Cadastrar</button>
                
                </mat-card-content>
            </form>

            <mat-card-footer style="align-self: center; margin-top: 10px; padding-bottom: 20px;">
                <a routerLink="/signin" style="text-decoration: none; font-size: 16px; font-family: 'DM Sans';">Já tenho uma conta</a>
            </mat-card-footer>

        </mat-card>
    </div>
</section>

<div>
    <app-footer></app-footer>
</div>
